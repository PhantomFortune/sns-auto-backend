# OAuth同意画面のエラー修正方法

## エラー
```
Error 403: access_denied
The app is currently being tested, and can only be accessed by developer-approved testers.
```

## 原因
OAuth同意画面でアプリが「テスト中」の状態になっており、開発者のアカウントがテストユーザーとして追加されていないためです。

## 解決策

### 方法1: テストユーザーを追加（推奨・簡単）

1. **Google Cloud Consoleにアクセス**
   - https://console.cloud.google.com/
   - プロジェクト `sns-perfect-auto` を選択

2. **OAuth同意画面を開く**
   - 「APIとサービス」→「OAuth同意画面」を開く

3. **テストユーザーを追加**
   - 「テストユーザー」セクションを探す
   - 「+ ユーザーを追加」をクリック
   - 開発者のメールアドレスを追加：
     ```
     abstroviousocean@gmail.com
     ```
   - 「追加」をクリック

4. **保存**
   - 変更を保存

5. **バックエンドサーバーを再起動**
   - 新しい設定を反映させるため

### 方法2: アプリを本番環境に公開（本番環境向け）

**注意**: この方法は、アプリを一般公開する場合に使用します。開発・テスト環境では方法1を推奨します。

1. **Google Cloud Consoleにアクセス**
   - https://console.cloud.google.com/
   - プロジェクト `sns-perfect-auto` を選択

2. **OAuth同意画面を開く**
   - 「APIとサービス」→「OAuth同意画面」を開く

3. **公開ステータスを変更**
   - 「公開ステータス」セクションで「公開」をクリック
   - 警告を確認して「公開」をクリック

4. **Googleの検証プロセスを完了**
   - Googleの検証プロセスが必要な場合があります
   - プライバシーポリシーや利用規約のURLが必要な場合があります

## 推奨される設定

開発・テスト環境では、**方法1（テストユーザーを追加）**を使用することを推奨します：

- ✅ 簡単に設定できる
- ✅ Googleの検証プロセスが不要
- ✅ 開発者のアカウントでテスト可能
- ✅ 本番環境に影響しない

## 確認方法

1. テストユーザーを追加した後、バックエンドサーバーを再起動
2. Googleカレンダー連携ボタンをクリック
3. エラー403が表示されず、認証画面が正常に表示されることを確認

## 注意事項

- テストユーザーは最大100人まで追加できます
- テストユーザーとして追加されたアカウントのみがアプリにアクセスできます
- 本番環境では、アプリを公開するか、すべてのユーザーをテストユーザーとして追加する必要があります

